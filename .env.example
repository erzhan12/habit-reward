# ============================================================================
# Habit Reward Bot - Environment Variables Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit .env file to git!

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================================================
POSTGRES_DB=habit_reward
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_database_password_here
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Full database URL (auto-constructed from above, but can be overridden)
DATABASE_URL=postgresql://postgres:your_secure_database_password_here@db:5432/habit_reward

# For development (SQLite - not recommended for production):
# DATABASE_URL=sqlite:///db.sqlite3

# ============================================================================
# DJANGO CONFIGURATION
# ============================================================================
# Generate a secure secret key using: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-very-secret-key-at-least-50-characters-long-change-this

# Debug mode (NEVER set to True in production!)
DEBUG=False

# Allowed hosts (comma-separated list of domains/IPs)
# Example: example.com,www.example.com,123.456.789.012
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# CSRF trusted origins (comma-separated HTTPS URLs)
# Example: https://example.com,https://www.example.com
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================================================
# TELEGRAM BOT CONFIGURATION
# ============================================================================
# Get your bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Webhook URL (your domain + /webhook/telegram)
# Example: https://example.com/webhook/telegram
# Leave empty for development (uses polling mode)
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/webhook/telegram

# ============================================================================
# DJANGO SUPERUSER (Optional - created automatically on first run)
# ============================================================================
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@yourdomain.com
DJANGO_SUPERUSER_PASSWORD=your_secure_admin_password_here

# ============================================================================
# AI/LLM CONFIGURATION (Optional - for habit classification)
# ============================================================================
# Provider: 'openai' or 'anthropic'
LLM_PROVIDER=openai

# Model name
# OpenAI: gpt-3.5-turbo, gpt-4, gpt-4-turbo
# Anthropic: claude-3-haiku-20240307, claude-3-sonnet-20240229
LLM_MODEL=gpt-3.5-turbo

# API Key (get from OpenAI or Anthropic)
LLM_API_KEY=your-openai-api-key-here

# ============================================================================
# AIRTABLE CONFIGURATION (Legacy - kept for fallback)
# ============================================================================
AIRTABLE_API_KEY=your_airtable_api_key_here
AIRTABLE_BASE_ID=your_airtable_base_id_here

# ============================================================================
# APPLICATION SETTINGS (Optional - defaults provided)
# ============================================================================
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Supported languages (comma-separated)
SUPPORTED_LANGUAGES=en,ru,kk
DEFAULT_LANGUAGE=en

# Gamification settings
STREAK_MULTIPLIER_RATE=0.1
PROGRESS_BAR_LENGTH=10
RECENT_LOGS_LIMIT=10

# Optional: Default user for testing
DEFAULT_USER_TELEGRAM_ID=your_telegram_id_here

# ============================================================================
# DOCKER & DEPLOYMENT CONFIGURATION (for GitHub Actions)
# ============================================================================
# Docker registry (GitHub Container Registry)
DOCKER_REGISTRY=ghcr.io

# Docker image name (usually: username/repository)
DOCKER_IMAGE_NAME=yourusername/habit_reward_bot

# Image tag (usually: latest, main, or version number)
IMAGE_TAG=latest

# ============================================================================
# PRODUCTION DEPLOYMENT (VPS/Server)
# ============================================================================
# Your server's IP address or domain
SERVER_HOST=123.456.789.012

# SSH user for deployment
SSH_USER=deploy

# SSH port (default: 22)
SSH_PORT=22

# Deployment directory on server
DEPLOY_PATH=/home/deploy/habit_reward_bot

# ============================================================================
# SSL/TLS CONFIGURATION (Let's Encrypt)
# ============================================================================
# Your domain name (for SSL certificate)
DOMAIN_NAME=yourdomain.com

# Email for Let's Encrypt notifications
CERTBOT_EMAIL=admin@yourdomain.com

# ============================================================================
# NOTES
# ============================================================================
# 1. For local development:
#    - Set DEBUG=True
#    - Set ALLOWED_HOSTS=localhost,127.0.0.1
#    - Use DATABASE_URL=sqlite:///db.sqlite3
#    - Leave TELEGRAM_WEBHOOK_URL empty (bot will use polling mode)
#
# 2. For production:
#    - Set DEBUG=False
#    - Use PostgreSQL DATABASE_URL
#    - Use strong, random passwords
#    - Configure proper ALLOWED_HOSTS and CSRF_TRUSTED_ORIGINS
#    - Set TELEGRAM_WEBHOOK_URL to your HTTPS domain
#
# 3. Generate secure passwords:
#    - Linux/Mac: openssl rand -base64 32
#    - Python: python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 4. Test your configuration:
#    - docker-compose config (validates syntax)
#    - docker-compose up -d (starts services)
#    - docker-compose logs -f web (view application logs)
